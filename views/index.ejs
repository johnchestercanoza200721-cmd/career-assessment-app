<!DOCTYPE html>
<html>
<head>
    
<meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Career Assessment</title>
    
    <style>
/* --- DISABLE MOBILE TAP HIGHLIGHT --- */
* {
    /* Prevents the blue/grey box when clicking buttons/links on mobile */
    -webkit-tap-highlight-color: transparent;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

/* Also disable the gray semi-transparent overlay on some browsers */
.theme-toggle, 
.hamburger, 
button, 
.likert-circle {
    outline: none;
    -webkit-touch-callout: none; /* Prevents long-press "copy" menu on icons */
    user-select: none;           /* Prevents text selection on these elements */
}

:root {
    /* 1. Inter (Your favorite)
       2. -apple-system / BlinkMacSystemFont (Apple's ultra-clean San Francisco)
       3. Segoe UI (Windows default)
       4. Roboto (Android - placed last as requested)
       5. sans-serif (The emergency backup) */
    --main-font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

body {
    font-family: var(--main-font);
    -webkit-font-smoothing: antialiased; /* Makes fonts look smoother on Mac and iPhone */
    -moz-osx-font-smoothing: grayscale;
}

        html, body {
    max-width: 100%;
    overflow-x: hidden; /* This is the most important line for mobile */
    position: relative;
}

/* --- SECTION 1: GLOBAL RESET (Put this at the top of your <style> tag) --- */
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    /* This prevents the "rubber-band" effect on mobile that can shift the navbar */
    overflow-x: hidden;
    overscroll-behavior-y: none; 
}

    /* 1. THEME VARIABLES */
    :root {
        --bg-color: #f0f2f5;
        --card-bg: #ffffff;
        --text-main: #2c3e50;
        --text-muted: #5f6368;
        --nav-bg-rgb: 255, 255, 255; /* Needed for Glassmorphism */
        --nav-text: #2c3e50;
        --likert-bg: #f8f9fa;
        --border-color: #dadce0;
        --shadow: rgba(0,0,0,0.1);
        --accent-blue: #1a73e8;
        --inner-ring: white;
    }

    body.dark-mode {
        --bg-color: #121212;
        --card-bg: #1e1e1e;
        --text-main: #e8eaed;
        --text-muted: #9aa0a6;
        --nav-bg-rgb: 30, 30, 30; /* Darker RGB for Glassmorphism */
        --nav-text: #e8eaed;
        --likert-bg: #2d2d2d;
        --border-color: #3c4043;
        --shadow: rgba(0,0,0,0.4);
        --inner-ring: #1e1e1e; 
    }

    /* 2. WARM TONE EFFECT (Jariz Mode) */
    body.warm-mode::after {
        content: "";
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        background: rgba(255, 145, 0, 0.15); /* Tuned for comfort */
        pointer-events: none; 
        z-index: 9999;
        mix-blend-mode: multiply;
    }

    /* --- GLOBAL SCROLL LOCK FIX --- */
html, body {
    width: 100%;
    overflow-x: hidden; /* Prevent horizontal wobbling */
    position: relative;
}

/* Specifically for the question container in index.ejs */
.content-wrapper {
    overflow-x: hidden;
    width: 100%;
    box-sizing: border-box; /* Ensures padding doesn't add to width */
    touch-action: pan-y; /* FORCES the browser to only allow vertical scrolling */
}

    /* 3. DEV TOOLS STYLING */
    #dev-panel {
        position: fixed;
        top: 80px; right: 20px;
        width: 240px;
        background: var(--card-bg);
        border-radius: 15px;
        padding: 15px;
        z-index: 2000;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        display: none; /* Hidden by default - Toggle with Shift+D */
    }
    #dev-panel h3 { margin: 0 0 10px 0; font-size: 1rem; color: var(--accent-blue); }
    .dev-input-group { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .dev-input-group label { font-size: 0.8rem; font-weight: bold; }
    .dev-input-group input { width: 60px; padding: 4px; border-radius: 4px; border: 1px solid var(--border-color); background: var(--likert-bg); color: var(--text-main); }
    .dev-btn { width: 100%; padding: 10px; background: var(--accent-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; margin-top: 10px; }
/* --- RESPONSIVE DEV PANEL --- */
@media (max-width: 600px) {
    #dev-panel {
        top: auto !important;
        bottom: 20px !important;
        right: 5% !important;
        left: 5% !important;
        width: 90% !important;
        max-height: 80vh;
        overflow-y: auto;
        border: 2px solid var(--accent-blue);
        box-shadow: 0 -10px 40px rgba(0,0,0,0.4);
        padding: 20px;
    }
    
    .dev-btn {
        padding: 15px; /* Larger hit area for fingers */
        font-size: 1rem;
    }
}
    /* 4. GLOBAL RESET & LAYOUT */
    body { 
        font-family: var(--main-font); 
        margin: 0; padding: 0; padding-top: 80px; 
        line-height: 1.6; 
        background-color: var(--bg-color); 
        color: var(--text-main);
        transition: background-color 0.3s ease, color 0.3s ease;
    }

/* --- CONTENT & GRADIENT HEADER --- */
.content-wrapper { 
    max-width: 800px; 
    margin: 0 auto; 
    padding: 20px; 
}

h1 { 
    /* 1. The Gradient Logic (Matched to your tactile button) */
    background: linear-gradient(135deg, #1a73e8 0%, #00d4ff 100%);
    
    /* 2. Clipping the background to the text shape */
    -webkit-background-clip: text;
    background-clip: text;
    
    /* 3. Make the text transparent so the gradient shows through */
    color: transparent; 
    
    /* 4. Layout & Typography */
    text-align: center; 
    font-size: 2.5rem; /* Slightly bumped for better impact */
    font-weight: 800; 
    margin-top: 10px; 
    letter-spacing: -0.5px;
    
    /* 5. Smooth appearance */
    display: block;
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
}
    
    /* 5. GLASSMORPHISM NAVBAR */
    .navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0; /* Explicitly anchor to both sides */
    width: 100%;
    height: 70px;
    
    /* Background & Effects */
    background-color: rgba(var(--nav-bg-rgb), 0.25); /* Slightly more opaque for stability */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px); 
    
    /* Layout */
    display: flex;
    justify-content: center;
    align-items: center;
    
    /* Layering */
    z-index: 2000;
    box-shadow: 0 2px 10px var(--shadow);
    border-bottom: 1px solid var(--border-color);
    
    /* Prevent mobile shifting */
    transform: translateZ(0); /* Forces the browser to treat it as a separate layer */
    -webkit-transform: translateZ(0);
    margin: 0;
    padding: 0;
}
/* --- NAVIGATION (SPATIAL GLASS UPDATE) --- */
.nav-container {
    display: grid; 
    grid-template-columns: 1fr auto 1fr; 
    align-items: center;
    width: 95%;
    max-width: 1200px;
    margin: 0 auto;
}

/* 1. Logo Refinement */
.nav-logo { 
    font-size: 1.4rem; 
    font-weight: 800; 
    text-decoration: none; 
    color: var(--nav-text); 
    letter-spacing: -0.5px;
    transition: opacity 0.2s ease;
}

.nav-logo:hover { opacity: 0.8; }

.nav-logo span { 
    background: linear-gradient(135deg, #1a73e8, #00d4ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 900;
}

/* 2. Floating Pill Menu */
.nav-menu { 
    display: flex; 
    list-style: none; 
    gap: 8px; /* Tighter gap for the pill look */
    margin: 0; 
    padding: 5px; 
    justify-content: center; 
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    border-radius: 100px; /* Outer pill shape */
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.nav-menu a { 
    text-decoration: none; 
    color: var(--text-muted); 
    font-weight: 600; 
    font-size: 0.85rem;
    padding: 8px 18px;
    border-radius: 100px;
    transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* 3. Hover Flare: The "Active" Glow */
.nav-menu a:hover { 
    color: var(--text-main); 
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* 4. Controls Alignment */
.nav-controls { 
    justify-self: end; 
    display: flex; 
    align-items: center; 
    gap: 12px; 
}

   /* Specific targeting to prevent affecting cards */
.nav-status#progress-status {
    position: relative; /* Default for mobile: flows with the text */
    display: inline-block;
    min-width: 120px;
    height: 30px;
    line-height: 30px;
    border-radius: 50px;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
    background: hsla(0, 0%, 0%, 0.12);
    overflow: hidden;
    text-align: center;
    z-index: 1;
    border: none;
    padding: 0 10px;
    
    /* Keep your existing transition/bop logic here */
}

body.dark-mode .nav-status#progress-status {
    background: hsla(0, 0%, 100%, 0.050);
}

/* --- THE SPATIAL SPRINGY FILLER --- */
.nav-status#progress-status::before {
    content: "";
    position: absolute;
    top: 0; 
    left: 0;
    width: 100%; 
    height: 100%;
    
    /* 1. Updated to your Brand Gradient */
    background: linear-gradient(90deg, #1a73e8, #00d4ff);
    
    /* 2. Added a leading-edge glow */
    box-shadow: 5px 0 15px rgba(0, 212, 255, 0.4);
    
    z-index: -1;
    transform-origin: left;
    
    /* The Scale Variable from your JS */
    transform: scaleX(var(--p-scale, 0));
    
    /* 3. YOUR ORIGINAL PHYSICS (Preserved)
       The high overshoot creates that 'bouncy' spring effect 
    */
    transition: transform 0.8s cubic-bezier(1, -10, 0.265, 10), 
                background 0.3s ease;
    
    /* 4. Rounded edges to match the pill shape */
    border-radius: 100px;
}


@keyframes bop {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.nav-status.bop-animate {
    animation: bop 0.5s ease-out;
}

    /* 6. FOCUS MODE CARDS */
    .card { 
        background: var(--card-bg); 
        padding: 30px; margin-bottom: 60px; border-radius:15px; 
        box-shadow: 0 4px 6px var(--shadow); 
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1); 
        opacity: 0.25; filter: grayscale(100%);
        transform: scale(0.95); cursor: pointer; 
    }
    .card.active { opacity: 1; filter: grayscale(0%); transform: scale(1); cursor: default; box-shadow: 0 15px 30px var(--shadow); }
    .card.completed { opacity: 0.6; filter: grayscale(100%); transform: scale(0.98); }

    /* 7. LIKERT SCALES (SPATIAL GLASS CONTAINER) */
.likert-container { 
    display: flex; 
    /* Allows items to squeeze or stack if they absolutely have to */
    flex-wrap: nowrap; 
    justify-content: space-between; 
    align-items: center; 
    
    /* Using a very small gap on mobile that grows on desktop */
    gap: clamp(4px, 2vw, 15px); 
    
    margin: 20px auto; 
    padding: 12px 15px; 
    
    background: var(--likert-bg); 
    border-radius: 100px; 
    box-sizing: border-box; 
    width: 100%;           
    max-width: 500px;      
    
    /* Helps with the scrolling issue we fixed earlier */
    touch-action: pan-y;   
}

/* Specific Label Styling to prevent clipping */
.likert-label {
    font-size: 0.75rem; /* Base size */
    white-space: nowrap;
    color: var(--text-muted);
    text-transform: uppercase;
    font-weight: bold;
}

@media (max-width: 480px) {
    .likert-container {
        /* Remove the scale(0.95) as it often causes blur and clipping issues */
        transform: none; 
        padding: 8px 12px;
        gap: 5px;
    }

    .likert-label {
        /* Make the text small enough to fit the screen */
        font-size: 0.6rem; 
        /* Allow "Strongly Dislike" to break into two lines if needed */
        white-space: normal;
        text-align: center;
        max-width: 50px; 
        line-height: 1;
    }
    
    /* Make the circles slightly smaller so the text has more room */
    .likert-circle {
        width: 24px;
        height: 24px;
    }
}

/* --- RADIO BUTTONS (Untouched styling, keeping your logic) --- */
input[type="radio"] { 
    -webkit-appearance: none; 
    appearance: none; 
    background-color: var(--card-bg); 
    margin: 0; 
    border: 2px solid var(--border-color); 
    border-radius: 50%; 
    cursor: pointer; 
    transition: 0.2s; 
    flex-shrink: 0; 
}

input[value="1"], input[value="5"] { width: 52px; height: 52px; }
input[value="2"], input[value="4"] { width: 44px; height: 44px; }
input[value="3"] { width: 40px; height: 40px; }

input[value="1"], input[value="2"] { border: 3px solid #ed891e; }
input[value="3"] { border: 3px solid var(--border-color); }
input[value="4"], input[value="5"] { border: 3px solid var(--accent-blue); }

input[value="1"]:checked, input[value="2"]:checked { 
    background-color: #ed891e; 
    box-shadow: inset 0 0 0 4px var(--inner-ring), 0 0 12px rgba(237, 137, 30, 0.6); 
}
input[value="3"]:checked { 
    background-color: #9aa0a6; 
    box-shadow: inset 0 0 0 4px var(--inner-ring), 0 0 10px rgba(154, 160, 166, 0.4); 
}
input[value="4"]:checked, input[value="5"]:checked { 
    background-color: var(--accent-blue); 
    box-shadow: inset 0 0 0 4px var(--inner-ring), 0 0 12px rgba(26, 115, 232, 0.6); 
}

/* --- LABELS (Keeping your original styling) --- */
.label-text { 
    font-family: var(--main-font); 
    font-weight: 600; 
    color: var(--text-muted); 
    font-size: 0.85em; 
    width: 100px; 
    text-align: center; 
    text-transform: uppercase; 
}

/* --- TOGGLES (Keeping your original styling) --- */
.theme-toggle, .warm-toggle { 
    background: var(--likert-bg); 
    border: 1px solid var(--border-color); 
    color: var(--text-main); 
    padding: 5px 10px; 
    border-radius: 8px; 
    cursor: pointer; 
    font-size: 0.75rem; 
    font-weight: 600; 
    transition: 0.2s; 
}
.warm-toggle.active { 
    border-color: #ed891e; 
    background: rgba(237, 137, 30, 0.1); 
}

/* --- SPATIAL TACTILE SUBMIT (MATCHED TO YOUR STYLE) --- */
button[type="submit"] {
    display: block;
    width: 100%; /* Keeps it full width for the form, or use 'max-width' if preferred */
    margin: 40px auto 100px;
    padding: 16px 35px;
    
    /* 1. Your Gradient Logic */
    background: linear-gradient(135deg, #1a73e8 0%, #00d4ff 100%);
    color: white;
    text-decoration: none;
    
    /* 2. Pill Shape */
    border-radius: 100px; 
    
    font-size: 1.1rem;
    font-weight: 700;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.2);
    cursor: pointer;
    
    /* 3. Deep Tactile Shadow */
    box-shadow: 0 8px 25px rgba(26, 115, 232, 0.3);
    
    /* 4. High-Performance Transition */
    transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
    
    /* Required for the shimmer effect */
    position: relative;
    overflow: hidden;
}

/* --- HOVER: SHIMMER & LIFT --- */
button[type="submit"]:hover {
    transform: translateY(-4px); /* Lift off the page */
    box-shadow: 0 15px 35px rgba(26, 115, 232, 0.5); /* Glow expands */
    filter: brightness(1.1); /* Slight highlight */
}

/* --- THE SHIMMER ANIMATION --- */
button[type="submit"]::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        120deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: all 0.6s ease;
}

button[type="submit"]:hover::before {
    left: 100%; /* Shimmer slides across on hover */
}

/* --- ACTIVE: PRESSED STATE --- */
button[type="submit"]:active {
    transform: translateY(1px);
    box-shadow: 0 5px 10px rgba(26, 115, 232, 0.3);
}


    
   /* --- THE TOGGLE SWITCH CONTAINER --- */
.switch {
  position: relative;
  display: inline-block;
  width: 44px; /* Slightly wider for a better spatial feel */
  height: 24px;
}

/* HIDE THE ACTUAL CHECKBOX */
.switch input { opacity: 0; width: 0; height: 0; }

/* THE SLIDER BACKGROUND (Glass Track) */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  
  /* Glass look for the track */
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  
  /* Using your exact springy transition logic */
  transition: .4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  border-radius: 20px;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
}

/* THE KNOB (Soft Glowing Orb) */
.slider:before {
  position: absolute;
  content: "";
  height: 16px; 
  width: 16px;
  left: 3px; 
  bottom: 3px;
  
  background-color: white;
  /* Glow makes it feel "powered on" */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  
  /* Using your exact springy transition logic */
  transition: .4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  border-radius: 50%;
  z-index: 2;
}

/* COLORS WHEN ACTIVE */
/* We keep your blue and orange branding */
input:checked + .slider.dark { 
    background-color: #1a73e8; 
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.1), 0 0 10px rgba(26, 115, 232, 0.4);
}

input:checked + .slider.warm { 
    background-color: #ed891e; 
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.1), 0 0 10px rgba(237, 137, 30, 0.4);
}

/* MOVING THE KNOB */
/* Adjusted slightly for the wider track */
input:checked + .slider:before {
  transform: translateX(20px);
  box-shadow: 0 2px 8px rgba(255, 255, 255, 0.4);
}


/* MODAL STYLES */
.modal-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(5px);
    display: none; /* Hidden by default */
    justify-content: center;
    align-items: center;
    z-index: 2000;
    animation: fadeIn 0.3s ease;
}

.modal-content {
    /* Glassmorphism Effect */
    background: rgba(var(--nav-bg-rgb), 0.7) !important; 
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px); 
    
    /* Layout & Positioning */
    position: relative;
    width: 85%;            /* Reduced from 90% to prevent edge-touching */
    max-width: 500px;
    margin: 100px auto 40px; /* margin-top: 100px ensures it starts BELOW the navbar */
    padding: 40px;
    border-radius: 15px;
    
    /* The Fix for the Cutoff */
    z-index: 10000;        /* Higher than the Navbar's 9999 */
    
    /* Shadow and Border */
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 50px 40px rgba(0,0,0,0.25);
    
    /* Prevent overflowing screen height */
    max-height: calc(100vh - 140px); 
    overflow-y: auto;
}

/* --- MODAL SYSTEM (SPATIAL GLASS) --- */

.modal-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.149); 
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: none; 
    justify-content: center;
    align-items: center;
    z-index: 3000; 
    animation: fadeIn 0.4s ease;
}

.modal-content {
    background: rgba(var(--nav-bg-rgb), 0.75) !important; 
    backdrop-filter: blur(25px) saturate(150%);
    -webkit-backdrop-filter: blur(25px) saturate(150%); 
    position: relative;
    width: 85%;
    max-width: 500px;
    margin: 100px auto 40px; 
    padding: 40px;
    border-radius: 24px;
    z-index: 10001;
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow: 0 40px 100px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
    max-height: calc(100vh - 160px); 
    overflow-y: auto;
    animation: modalRise 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* --- PERFECTLY CENTERED CLOSE BUTTON (GEOMETRIC FIX) --- */
.modal-close {
    position: absolute;
    top: 20px; 
    right: 20px;
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.05); 
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    
    /* Center the pseudo-elements mathematically */
    display: flex;
    align-items: center;
    justify-content: center;
    
    padding: 0;
    margin: 0;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10;
}

/* --- CLEAN GEOMETRIC X (MODAL & SIDEBAR) --- */
.close-drawer, .modal-close {
    position: absolute;
    top: 20px; 
    right: 20px;
    width: 36px;
    height: 36px;
    background: #66666680; 
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10;
    
    /* Removed box-shadow for a flat geometric look */
    box-shadow: none; 
    -webkit-tap-highlight-color: transparent;
}

.close-drawer::before, .close-drawer::after,
.modal-close::before, .modal-close::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 2px;
    background-color: var(--text-muted);
    border-radius: 2px;
    transition: background-color 0.3s ease;
}

.close-drawer::before, .modal-close::before { transform: rotate(45deg); }
.close-drawer::after, .modal-close::after { transform: rotate(-45deg); }

/* --- HOVER ACTION: LIGHT & CRISP --- */
.close-drawer:hover, .modal-close:hover {
    /* Increased brightness/opacity to make it look "light" on hover */
    background: hsla(0, 0%, 40%, 0.5); 
    transform: rotate(135deg); 
    
    /* Ensure no shadow appears on hover either */
    box-shadow: none;
    border-color: rgba(255, 255, 255, 0.4);
}

.close-drawer:hover::before, .close-drawer:hover::after,
.modal-close:hover::before, .modal-close:hover::after {
    /* Pure white for that "lit up" look */
    background-color: #ffffff; 
}

/* --- LIGHT MODE INVERSION --- */
.light-mode .modal-close, .light-mode .close-drawer {
    background: rgba(0, 0, 0, 0.05);
    border-color: rgba(0, 0, 0, 0.1);
    box-shadow: none;
}

.light-mode .modal-close::before, 
.light-mode .modal-close::after,
.light-mode .close-drawer::before,
.light-mode .close-drawer::after {
    background-color: #333; /* Dark X for light mode */
}
/* --- HELP CONTENT --- */
.help-item { margin-bottom: 25px; }
.help-item strong { 
    color: var(--accent-blue); 
    display: block; 
    margin-bottom: 8px; 
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.help-item p { font-size: 0.95rem; line-height: 1.5; color: var(--text-muted); }

/* --- RESEARCHERS GRID (2x2) --- */
.researchers-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 25px;
    text-align: center;
}

.researcher {
    padding: 20px 15px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 20px;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    flex-direction: column;
    align-items: center;
}

.researcher:hover {
    transform: translateY(-8px);
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--accent-blue);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
}

.avatar {
    font-size: 32px;
    margin-bottom: 12px;
}

.researcher strong {
    display: block;
    font-size: 0.65rem;
    text-transform: uppercase;
    color: var(--accent-blue);
    letter-spacing: 1.5px;
    margin-bottom: 5px;
    font-weight: 800;
}

.researcher span {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-main);
    line-height: 1.2;
}

/* --- ANIMATIONS --- */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

@keyframes modalRise {
    from { opacity: 0; transform: translateY(40px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

/* --- RESPONSIVE --- */
@media (max-width: 450px) {
    .researchers-grid { grid-template-columns: 1fr; }
    .modal-content { padding: 30px 20px; width: 90%; }
}
/* --- 1. MINIMALIST HAMBURGER --- */
.hamburger {
    display: flex;
    flex-direction: column;
    gap: 6px;
    background: none; /* Fully transparent */
    border: none;
    cursor: pointer;
    padding: 8px;
    transition: opacity 0.2s ease;
}

.hamburger span { 
    width: 24px; 
    height: 3px; 
    background: var(--text-main); 
    border-radius: 2px; 
}

.hamburger:hover {
    opacity: 0.7; /* Simple visual feedback */
}

/* Light Mode Inversion */
.light-mode .hamburger span {
    background: #000;
}

/* --- 2. SLIM SETTINGS BAR --- */
.settings-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 25px;
    margin: 0 auto 40px auto;
    padding: 10px 20px;
    
    /* Simple, clean container */
    background: var(--card-bg);
    border-radius: 12px; 
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    
    max-width: fit-content;
}

.setting-item { 
    display: flex; 
    align-items: center; 
    gap: 10px; 
}

.setting-item span { 
    font-size: 0.7rem; 
    font-weight: 700; 
    color: var(--text-muted); 
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Light Mode Adjustments */
.light-mode .settings-container {
    background: #fff;
    border-color: #eee;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.light-mode .setting-item span {
    color: #666;
}
/* 3. The Sidebar Menu */
/* FIX: Completely hide the drawer when inactive */
/* Sidebar Drawer Styling */
/* Sidebar Drawer Styling - Adaptive Version */
/* --- SPATIAL GLASS MOBILE DRAWER (FINAL CONSOLIDATED BLOCK) --- */

.mobile-drawer {
    position: fixed;
    top: 15px;
    bottom: 15px;
    right: -110%; 
    width: 290px;
    
    /* Deep Spatial Glass - Slightly more opaque than standard modals */
    background: rgba(var(--nav-bg-rgb), 0.5) !important; 
    backdrop-filter: blur(15px) saturate(160%);
    -webkit-backdrop-filter: blur(25px) saturate(160%);
    
    z-index: 3000;
    padding: 70px 25px 40px; 
    border-radius: 24px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    
    visibility: hidden; 
    pointer-events: none; 
    
    /* Smooth Power Entrance */
    transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

.mobile-drawer.active {
    right: 15px;
    visibility: visible;
    pointer-events: auto;
    box-shadow: -15px 15px 50px rgba(0,0,0,0.1);
}

/* --- WEBSITE NAME (NAVBAR MATCHED DESIGN) --- */
.mobile-drawer h3 {
    /* Match your Navbar Brand styling here */
    font-size: 2rem; 
    font-weight: 800;
    color: var(--text-main); 
    margin-bottom: 35px;
    padding-bottom: 15px;
    text-align: left;
    letter-spacing: -0.5px;
}

/* Accent part of the name (e.g., the "AI" or ".com" part) */
.mobile-drawer h3 span {
    color: var(--accent-blue);
}

/* --- DRAWER LINKS (GLASS TILES) --- */
.drawer-links {
    list-style: none !important;
    padding: 0 !important;
    margin: 0;
}

.drawer-links li {
    list-style: none !important;
    margin-bottom: 12px;
}

.drawer-links a {
    text-decoration: none;
    color: var(--text-main);
    font-size: 1rem;
    font-weight: 600;
    display: block;
    padding: 14px 20px;
    border-radius: 18px; 
    
    /* Glass Button Base */
    background: hsla(0, 0%, 40%, 0.05);
    border: 1px solid hsla(0, 0%, 40%, 0.5);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.drawer-links a:hover {
    background: var(--accent-blue);
    color: white !important;
    transform: translateX(8px) scale(1.02);
    box-shadow: 0 8px 20px rgba(26, 115, 232, 0.3);
    border-color: rgba(255, 255, 255, 0.2);
}

/* --- EXACT GEOMETRIC X (MATCHED TO MODAL) --- */
.close-drawer {
    position: absolute;
    top: 20px; 
    right: 20px;
    width: 36px;
    height: 36px;
    background: #66666680; 
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10;
}

.close-drawer::before,
.close-drawer::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 2px;
    background-color: var(--text-muted);
    border-radius: 2px;
    transition: background-color 0.3s ease;
}

.close-drawer::before { transform: rotate(45deg); }
.close-drawer::after { transform: rotate(-45deg); }

.close-drawer:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: rotate(135deg); 
}

.close-drawer:hover::before,
.close-drawer:hover::after {
    background-color: var(--text-main);
}

/* --- LIGHT MODE INVERSION --- */
.light-mode .mobile-drawer {
    background: rgba(255, 255, 255, 0.95) !important;
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: -10px 10px 40px rgba(0, 0, 0, 0.15);
}

.light-mode .mobile-drawer h3 {
    color: #000;
    border-bottom-color: rgba(0, 0, 0, 0.05);
}

.light-mode .drawer-links a {
    /* Defined Button Look for Light Mode */
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.05);
    color: #222;
}

.light-mode .drawer-links a:hover {
    background: var(--accent-blue);
    color: white !important;
}

.light-mode .close-drawer {
    background: rgba(0, 0, 0, 0.05);
    border-color: rgba(0, 0, 0, 0.1);
}



/* --- CLEAN MOBILE LIKERT FIX --- */
@media (max-width: 600px) {
    .likert-container { 
        display: flex; 
        justify-content: space-between; /* Spreads content to edges */
        align-items: center; 
        gap: 2px; /* Minimal gap to maximize space */
        
        margin: 20px auto; 
        padding: 10px 8px; /* Tight padding */
        
        background: var(--likert-bg); 
        border-radius: 100px; 
        box-sizing: border-box; 
        width: 100%; 
        
        touch-action: pan-y;   
        overflow: visible; /* Changed from hidden so labels aren't clipped */
    }

    /* Target the label text specifically */
    .likert-label, .label-text {
        /* Fluid font size: scales with screen width */
        font-size: clamp(8px, 2.5vw, 11px) !important;
        width: auto !important; /* Remove fixed 70px */
        max-width: 55px;
        white-space: normal; /* Allow wrapping to 2 lines */
        line-height: 1.1;
        text-align: center;
        flex: 1; /* Allows text to take up available space */
    }

    /* Shrink the radio buttons dynamically using vw (viewport width) */
    /* This ensures they never "push" the labels off screen */
    input[type="radio"], .likert-circle { 
        width: clamp(18px, 7vw, 36px) !important; 
        height: clamp(18px, 7vw, 36px) !important; 
        margin: 0 !important;
        flex-shrink: 0; /* Keep them circular */
    }
}



@media (max-width: 600px) {
    /* Stretch the main wrapper to the screen edges */
    .container, .content-wrapper, .main-content {
        width: 100% !important;
        padding: 10px 5px !important; /* Tiny side padding for the screen edge */
        margin: 0 auto !important;
    }

    /* 2. THE CARD WIDTH FIX */
    .card, .question-card {
        width: 96% !important; /* This makes the card maximize the screen width */
        max-width: none !important;
        margin: 15px auto !important; /* Centers it with top/bottom spacing */
        
        /* Reduce internal padding so the Likert scale has more room to breathe */
        padding: 20px 12px !important; 
        
        box-sizing: border-box;
        border-radius: 24px; /* Matches your pop-up aesthetic */
    }
}

@media (max-width: 600px) {
    .likert-container {
        width: 100% !important; /* Uses 100% of the newly widened card */
        padding: 10px 8px;
        justify-content: space-between;
    }
    
    /* Ensure the question text above the circles also uses the full width */
    .card h3, .question-text {
        font-size: 1.1rem;
        line-height: 1.4;
        margin-bottom: 20px;
        padding: 0 5px;
    }
}

/* --- MOBILE MODAL SPACING FIX --- */
@media (max-width: 600px) {
    /* Target your main card or modal container */
    .card, .modal-content, .container { 
        width: 92% !important; /* Forces breathing room on the sides */
        margin: 20px auto !important; /* Equal top/bottom and centered sides */
        padding: 25px 20px !important; /* Internal breathing room */
        
        border-radius: 24px; /* Keep it rounded to maintain the 'pop-up' look */
        box-sizing: border-box;
        
        /* Ensure it doesn't look flat against the background */
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); 
    }

    /* Fix for the clipping Progress Status inside the header */
    .nav-status#progress-status {
        font-size: 0.8rem; /* Scale down text slightly for small screens */
        padding: 4px 12px;
        /* Ensure the parent doesn't squash it */
        min-width: fit-content; 
    }
}

/* --- THE DESKTOP FIX --- */
/* --- DESKTOP ADJUSTMENTS (1024px+) --- */
@media (min-width: 1024px) {
    

    /* Fixed Animation: You must include the translate(-50%, -50%) 
       in every keyframe or it will fly to the top-left corner! */
    @keyframes bop {
        0% { transform: translate(-50%, -50%) scale(1); }
        50% { transform: translate(-50%, -50%) scale(1.05); }
        100% { transform: translate(-50%, -50%) scale(1); }
    }
}

/* --- MOBILE ADJUSTMENTS (600px-) --- */
@media (max-width: 600px) {
    /* Combined Modal styles for cleanliness */
    .modal-content {
        width: 88%;
        padding: 30px 20px;
        border-radius: 30px;
        margin-top: 85px;
    }

    /* IMPORTANT: Ensure this matches your HTML class (card vs question-card) */
    .card { 
        margin-bottom: 15px !important; 
        padding: 15px !important; 
    }

    .content-wrapper {
        padding: 10px;
        gap: 15px;
    }

    /* Close Button & Drawer Logic */
    .close-drawer {
        top: 15px;
        right: 15px;
        background: var(--card-bg);
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        z-index: 1001; /* Ensure it stays above content */
    }
    
    .drawer-content {
        padding-top: 50px; /* Increased slightly to fully clear the X button */
    }
}

.close-drawer:hover {
    color: rgb(123, 123, 123);
    background: #ffffff61;
    border-color: #ffffff;
}

/* This makes the drawer slide in with a gap from the edge to look like a "Floating Island" */
.mobile-drawer.active { 
    right: 15px; 
}

/* The "Curtain" behind the drawer */
.drawer-overlay {
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
    
    /* Subtle dark tint */
    background: rgba(0, 0, 0, 0.25); 
    
    /* Deep blur to match the spatial feel */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    
    display: none; 
    z-index: 2500; /* Sits below the drawer (3000) but above the page */
    
    /* Fades in smoothly */
    animation: fadeIn 0.3s ease;
}

/* Shows the overlay when active */
.drawer-overlay.active { 
    display: block; 
}

/* Simple fade animation for the overlay */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
@media (min-width: 1024px) {
    .nav-status#progress-status {
        position: absolute;
        left: 50%;
        top: 50%;
        /* Merged Transform: Essential to keep it centered AND allow bop */
        transform: translate(-50%, -50%);
        margin: 0;
        z-index: 10;
        
        /* Matching the Theme */
        font-weight: 700;
        letter-spacing: 0.5px;
        /* Base color stays readable on both light/dark backgrounds */
        color: white;
        
        /* Glass Pill for the status text itself */
        /* Increased opacity slightly to help contrast against the blue bar */
        background: hsla(0, 0%, 0%, 0.12); 
        backdrop-filter: blur(4px);
        padding: 6px 16px;
        border-radius: 100px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        
        /* Subtle Float Animation */
        animation: spatialFloat 4s ease-in-out infinite;
        
        /* Forces the text to stay on one line to prevent clipping */
        white-space: nowrap; 
    }

    /* --- LIGHT MODE SPECIFIC BORDER --- */
    .light-mode .nav-status#progress-status {
        background: rgba(255, 255, 255, 0.6); /* Brighter for light mode */
        border: 1px solid rgba(0, 0, 0, 0.1); 
        color: #333;
    }

    /* Refined Animation: Now pulses WHITE to stay visible against the blue bar */
    @keyframes spatialFloat {
        0% { 
            transform: translate(-50%, -50%) scale(1); 
            text-shadow: 0 0 0px rgba(255, 255, 255, 0);
        }
        50% { 
            /* Moves up 2px and scales slightly for a "breathing" effect */
            transform: translate(-50%, calc(-50% - 2px)) scale(1.03); 
            

           
        }
        100% { 
            transform: translate(-50%, -50%) scale(1); 
            text-shadow: 0 0 0px rgba(255, 255, 255, 0);
            /* Returns to theme default */
        }
    }
}
/* --- CLEAN CONSOLIDATED MOBILE STYLES --- */
@media (max-width: 600px) {
    
    /* 1. Navbar Layout */
    .nav-container {
    display: flex;
    justify-content: space-between; /* Pushes Logo to left, Controls to right */
    align-items: center;
    width: 95%;
    max-width: 1200px;
    margin: 0 auto;
    height: 100%;
}

    .nav-menu {
        width: 100%;
        justify-content: center;
        border-top: 1px solid rgba(255,255,255,0.1);
        padding-top: 10px;
        gap: 20px;
    }

    .nav-controls {
    display: flex;
    align-items: center;
    gap: 15px; /* Spacing between Progress Bar and Hamburger */
    justify-content: flex-end; /* Ensures they stick to the right edge */
}

/* Ensure the hamburger itself has no extra margins pushing it */
.hamburger {
    margin: 0;
    padding: 10px 5px; /* Horizontal padding adjustment */
    display: flex;
    flex-direction: column;
    gap: 5px;
    background: none;
    border: none;
    cursor: pointer;
}

 
    /* 3. Main Content & Cards */
    .content-wrapper {
    max-width: 700px; /* Slightly narrower for better readability */
    width: 95%; 
    margin: 0 auto;
}

    .card {
        width: 92%;
        margin: 0 auto 60px auto; /* Slightly less margin for mobile */
        padding: 20px 15px;
    }

    /* 4. Questionnaire UI (Tappability) */
    .likert-container {
        flex-direction: row !important; 
        flex-wrap: nowrap !important;
        gap: 8px; /* Reduced gap */
        padding: 10px;
        justify-content: space-evenly;
    }

    input[type="radio"] {
        width: 30px; /* Bigger touch targets for thumbs */
        height: 30px;
        cursor: pointer;
    }

    .label-text {
        font-size: 0.65rem;
        width: 60px; /* Much smaller width */
        line-height: 1.1;
    
    }

   .modal-content h2 {
        font-size: 1.3rem;
        margin-top: 10px;
    }

/* Shrink radio buttons for mobile real estate */
    input[type="radio"][value="1"], 
    input[type="radio"][value="5"] { 
        width: 38px; height: 38px; 
    }
    input[type="radio"][value="2"], 
    input[type="radio"][value="4"] { 
        width: 32px; height: 32px; 
    }
    input[type="radio"][value="3"] { 
        width: 28px; height: 28px; 
    }

    /* Adjust the inner ring of the checked state for smaller buttons */
    input[type="radio"]:checked {
        box-shadow: inset 0 0 0 3px var(--inner-ring) !important;

    }
}

.settings-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 40px;
    margin-bottom: 40px;
    padding: 15px;
    background: var(--card-bg);
    border-radius: 15px;
    box-shadow: 0 4px 6px var(--shadow);
    border: 1px solid var(--border-color);
}

.setting-item {
    display: flex;
    align-items: center;
    gap: 12px;
}

.setting-item span {
    font-size: 0.75rem;
    font-weight: 800;
    color: var(--text-muted);
    letter-spacing: 1px;
}

/* Ensure Navbar stays clean */
.nav-container {
    display: flex;
    justify-content: space-between;
}

.content-wrapper {
    /* Push content down so it starts after the 70px navbar */
    padding-top: 90px; 
}

@media (max-width: 600px) {
    .content-wrapper {
        padding-top: 80px;
    }
}

/* --- RESEARCHERS LIST STYLING --- */
.researchers-list {
    list-style: none;
    padding: 0;
    margin: 20px 0;
    text-align: left; /* Better for formal lists */
}

.researchers-list li {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    margin-bottom: 8px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
}

/* Hover effect to make it interactive/gamified */
.researchers-list li:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateX(5px);
    border-color: var(--accent-blue);
}

.mini-avatar {
    width: 32px;
    height: 32px;
    background: var(--accent-blue);
    border-radius: 50%;
    margin-right: 15px;
    flex-shrink: 0;
    opacity: 0.8;
    /* Optional: Add a subtle glow to the avatar */
    box-shadow: 0 0 10px rgba(0, 212, 255, 0.2);
}

.researchers-list span {
    font-size: 0.95rem;
    color: var(--text-main);
    font-weight: 500;
}

/* Light Mode Support */
.light-mode .researchers-list li {
    background: rgba(0, 0, 0, 0.03);
    border-color: rgba(0, 0, 0, 0.05);
}

.light-mode .researchers-list span {
    color: #333;
}

    </style>
</head>

<div id="about-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="modal-close" onclick="closeModal('about-modal')"></button>
        
       <h2>About T.A.H.A.K.</h2>
    <p><strong>T.A.H.A.K.</strong> is a web-based career assessment system designed specifically for Senior High School students in <strong>Nueva Ecija</strong>.</p>
    
    <p>Based on the <strong>RIASEC Model</strong> and the <strong>NCAE Occupational Interest Inventory</strong>, this tool helps bridge the gap between student interests and local academic opportunities. Our research focuses on reducing career undecidability caused by financial and geographic constraints.</p>
    
    <div class="research-goals">
        <h4>Research Objectives:</h4>
        <ul>
            <li>Evaluate system efficiency and interface concept.</li>
            <li>Compare web-based accessibility vs. traditional testing.</li>
            <li>Connect student profiles to local universities in Nueva Ecija.</li>
        </ul>
    </div>
    
    <p><small>Study Period: School Year 2025-2026</small></p>
        
        <h3>The Researchers</h3>
<ul class="researchers-list">
    <li>
        <div class="mini-avatar"></div>
        <span>Marcus Lord Isiah R. Basanes</span>
    </li>
    <li>
        <div class="mini-avatar"></div>
        <span>John Chester C. Canoza</span>
    </li>
    <li>
        <div class="mini-avatar"></div>
        <span>Jariz Maria T. Gose</span>
    </li>
    <li>
        <div class="mini-avatar"></div>
        <span>Rhiane Chastine Lei V. Perida</span>
    </li>
</ul>
    </div>
</div>

<div id="help-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="modal-close" onclick="closeModal('help-modal')"></button>
        <h2>How to Take the Assessment</h2>
    <p>This assessment evaluates your <strong>Occupational Interests</strong>. There are no right or wrong answers.</p>
    
    <div class="help-steps">
        <div class="step">
            <strong>1. Be Honest:</strong> Select the level of enjoyment you feel for each activity, from "Strongly Dislike" to "Strongly Enjoy."
        </div>
        <div class="step">
            <strong>2. RIASEC Scoring:</strong> Your responses calculate your profile across six themes: Realistic, Investigative, Artistic, Social, Enterprising, and Conventional.
        </div>
        <div class="step">
            <strong>3. Local Results:</strong> Upon completion, you will receive your Top 3 Career categories and a list of universities in <strong>Nueva Ecija</strong> that offer related programs.
        </div>
    </div>
    
    <p><em>Your data is used solely for this research study on career decision-making.</em></p>
    </div>
</div>

<body>

<div id="dev-panel">
    <h3>ðŸ›  Dev Profiles</h3>
    <div id="profile-buttons" style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 15px;">
        <button class="dev-btn" style="background: #e67e22;" onclick="loadProfile('MY_IA')">My Profile (IA)</button>
        
        <button class="dev-btn" onclick="loadProfile('SCIENTIST')">Pure Scientist (I)</button>
        <button class="dev-btn" onclick="loadProfile('CREATIVE')">Creative Comm (AS)</button>
        <button class="dev-btn" onclick="loadProfile('LEADER')">Business Leader (EC)</button>
        <button class="dev-btn" onclick="loadProfile('BUILDER')">Technical Builder (RI)</button>
    </div>

    <hr style="border: 0; border-top: 1px solid var(--border-color); margin: 10px 0;">
    
    <div class="dev-input-group"><label>R</label><input type="number" id="dev-r" value="0"></div>
    <div class="dev-input-group"><label>I</label><input type="number" id="dev-i" value="0"></div>
    <div class="dev-input-group"><label>A</label><input type="number" id="dev-a" value="0"></div>
    <div class="dev-input-group"><label>S</label><input type="number" id="dev-s" value="0"></div>
    <div class="dev-input-group"><label>E</label><input type="number" id="dev-e" value="0"></div>
    <div class="dev-input-group"><label>C</label><input type="number" id="dev-c" value="0"></div>
    
    <button class="dev-btn" onclick="devSubmit()">Jump with Manual Scores</button>
    <div style="font-size: 0.65rem; color: var(--text-muted); margin-top: 8px; text-align: center;">Shift + D to Toggle</div>

    <button class="dev-btn" style="background: transparent; color: var(--text-muted); border: 1px solid var(--border-color);" onclick="document.getElementById('dev-panel').style.display='none'">Close Menu</button>
</div>

<div class="mobile-drawer" id="mobile-drawer">
    <button class="close-drawer" id="close-drawer"></button>
    
    <div class="drawer-content">
        <h3>Menu</h3>
        <ul class="drawer-links">
            <li><a href="javascript:void(0)" onclick="handleMenuClick('about-modal')">About the Study</a></li>
            <li><a href="javascript:void(0)" onclick="handleMenuClick('help-modal')">Need Help?</a></li>
        </ul>
        
        <div style="position: absolute; bottom: 30px; font-size: 0.7rem; color: #555;">
            Talents, Abilities, Hobbies & Knowledge
        </div>
    </div>
</div>
<div class="drawer-overlay" id="drawer-overlay"></div>

<nav class="navbar">
    <div class="nav-container">
        <a href="/" class="nav-logo"><span>T.A.H.A.K.</span></a>

        <div class="nav-status" id="progress-status">0% Complete</div>

        <div class="nav-controls">
            <button class="hamburger" id="hamburger-btn">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </div>
</nav>

<div class="content-wrapper">
    <h1>Free College Course Assessment</h1>
    <p style="text-align: center; margin-bottom: 20px;">Answer the selection based on your interest from strongly disliked to strongly enjoyed.</p>

<div class="settings-container">
        <div class="setting-item">
            <span>JARIZ MODE</span>
            <label class="switch">
                <input type="checkbox" id="warm-check">
                <span class="slider warm"></span>
            </label>
        </div>
        <div class="setting-item">
            <span>DARK MODE</span>
            <label class="switch">
                <input type="checkbox" id="dark-check">
                <span class="slider dark"></span>
            </label>
        </div>
    </div>

    <form action="/submit" method="POST">
        <% quizQuestions.forEach((q, index) => { %>
            <div class="card <%= index === 0 ? 'active' : '' %>" id="card-<%= index %>">
                <p style="font-size: 1.1em; margin-bottom: 15px;">
    <strong><%= index + 1 %>. <%= q.text %></strong> 
</p>
                <div class="likert-container">
                    <span class="label-text">Strongly Dislike</span>
                    <input type="radio" name="q<%= q.id %>" value="1" required>
                    <input type="radio" name="q<%= q.id %>" value="2">
                    <input type="radio" name="q<%= q.id %>" value="3">
                    <input type="radio" name="q<%= q.id %>" value="4">
                    <input type="radio" name="q<%= q.id %>" value="5">
                    <span class="label-text">Strongly Enjoy</span>
                </div>
            </div>
        <% }) %>
        <button type="submit">Submit My Answers</button>
    </form>
</div>

<script>
    
    const cards = document.querySelectorAll('.card');
    const themeToggle = document.getElementById('theme-toggle');
    const warmToggle = document.getElementById('warm-toggle');
    const devPanel = document.getElementById('dev-panel');
    const body = document.body;

    // --- DEV TOOLS (Shift + D) ---
    // --- UPDATED DEV TOOLS LOGIC ---
const profiles = {
    MY_IA:     { r: -4, i: 11, a: 3,  s: -12, e: -16, c: 0 },
    SCIENTIST: { r: 4,  i: 20, a: -2, s: -12, e: -18, c: 6 },
    CREATIVE:  { r: -8, i: 2,  a: 18, s: 16,  e: 4,   c: -20 },
    LEADER:    { r: 2,  i: -4, a: -15,s: 8,   e: 22,  c: 14 },
    BUILDER:   { r: 24, i: 12, a: 0,  s: -22, e: -6,  c: 5 }
};

window.addEventListener('keydown', (e) => {
    if (e.shiftKey && e.key.toUpperCase() === 'D') {
        const panel = document.getElementById('dev-panel');
        panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
    }
});

// Function to instantly load a preset and jump
function loadProfile(key) {
    const p = profiles[key];
    window.location.href = `/results?r=${p.r}&i=${p.i}&a=${p.a}&s=${p.s}&e=${p.e}&c=${p.c}`;
}

// Function for the manual inputs
function devSubmit() {
    const r = document.getElementById('dev-r').value;
    const i = document.getElementById('dev-i').value;
    const a = document.getElementById('dev-a').value;
    const s = document.getElementById('dev-s').value;
    const e = document.getElementById('dev-e').value;
    const c = document.getElementById('dev-c').value;
    
    window.location.href = `/results?r=${r}&i=${i}&a=${a}&s=${s}&e=${e}&c=${c}`;
}

    const darkCheck = document.getElementById('dark-check');
    const warmCheck = document.getElementById('warm-check');

    // 1. Load Saved Preferences on Page Load
    if (localStorage.getItem('theme') === 'dark') {
        body.classList.add('dark-mode');
        darkCheck.checked = true; // Makes the switch look "On"
    }
    if (localStorage.getItem('warm') === 'true') {
        body.classList.add('warm-mode');
        warmCheck.checked = true; // Makes the switch look "On"
    }

    // 2. Listen for Dark Mode Switch
    darkCheck.addEventListener('change', () => {
        if (darkCheck.checked) {
            body.classList.add('dark-mode');
            localStorage.setItem('theme', 'dark');
        } else {
            body.classList.remove('dark-mode');
            localStorage.setItem('theme', 'light');
        }
    });

    // 3. Listen for Jariz Mode Switch
    warmCheck.addEventListener('change', () => {
        body.classList.toggle('warm-mode', warmCheck.checked);
        localStorage.setItem('warm', warmCheck.checked);
    });

    // --- FOCUS MODE SCROLLING ---
    function jumpToQuestion(index) {
        cards.forEach((card, i) => {
            card.classList.remove('active', 'completed');
            if (i < index) card.classList.add('completed');
            else if (i === index) card.classList.add('active');
        });
        cards[index].scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
cards.forEach((card, index) => {
        // --- 1. KEEP YOUR ORIGINAL CLICK LOGIC ---
        // This allows users to click any card (even previous ones) to focus on them
        card.addEventListener('click', () => {
            if (!card.classList.contains('active')) {
                jumpToQuestion(index);
            }
        });

        const inputs = card.querySelectorAll('input[type="radio"]');
        inputs.forEach(input => {
            input.addEventListener('change', (e) => {
                // Prevent the card's click event from firing twice
                e.stopPropagation(); 

                // --- 2. AUTO-PROCEED TO NEXT ---
                if (index + 1 < cards.length) {
                    setTimeout(() => jumpToQuestion(index + 1), 500);
                }

                // --- 3. UPDATE PROGRESS ---
                updateProgressBar();
            });
        });
    });

    // --- 4. THE CALCULATION FUNCTION ---
    function updateProgressBar() {
    const totalQuestions = cards.length;
    const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
    const percentage = Math.round((answeredQuestions / totalQuestions) * 100);
    
    const statusElement = document.getElementById('progress-status');
    if (statusElement) {
        statusElement.innerText = `${percentage}% Complete`;
        statusElement.style.setProperty('--p-scale', answeredQuestions / totalQuestions);

        // Add the 'bop' animation class
        statusElement.classList.remove('bop-animate');
        void statusElement.offsetWidth; // This "reflows" the element to restart the animation
        statusElement.classList.add('bop-animate');

        if (percentage === 100) {
            statusElement.classList.add('is-complete');
        } else {
            statusElement.classList.remove('is-complete');
        }
    }
}
    // --- MODAL LOGIC ---

// Function to show the modal
function openModal(id) {
    const modal = document.getElementById(id);
    modal.style.display = 'flex';
    // This stops the background (the test) from scrolling while the modal is open
    document.body.style.overflow = 'hidden'; 
}

// Function to hide the modal
function closeModal(id) {
    const modal = document.getElementById(id);
    modal.style.display = 'none';
    // This lets the user scroll the test again
    document.body.style.overflow = 'auto'; 
}

// Close modal if user clicks the dark area outside the white box
window.addEventListener('click', (event) => {
    if (event.target.classList.contains('modal-overlay')) {
        event.target.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
});

// Call this once on load so the progress bar reflects any pre-filled browser data
updateProgressBar();

const hamburgerBtn = document.getElementById('hamburger-btn');
const closeBtn = document.getElementById('close-drawer');
const drawer = document.getElementById('mobile-drawer');
const overlay = document.getElementById('drawer-overlay');

function toggleDrawer() {
    drawer.classList.toggle('active');
    overlay.classList.toggle('active');
}

hamburgerBtn.addEventListener('click', toggleDrawer);
closeBtn.addEventListener('click', toggleDrawer);
overlay.addEventListener('click', toggleDrawer); // Close when clicking outside

// Helper for opening modals from the drawer
function handleMenuClick(modalId) {
    toggleDrawer(); // Close drawer first
    openModal(modalId); // Then open modal
}
// --- MOBILE SECRET GESTURE FOR INDEX.EJS ---
let secretTapCount = 0;
let secretTapTimer;

// Targets the main H1 heading
document.querySelector('h1').addEventListener('click', function() {
    // Only trigger on mobile/tablets
    if (window.innerWidth <= 1024) {
        secretTapCount++;
        clearTimeout(secretTapTimer);

        // Reset if they stop tapping
        secretTapTimer = setTimeout(() => { secretTapCount = 0; }, 500);

        // Triple tap detected
        if (secretTapCount === 3) {
            const panel = document.getElementById('dev-panel');
            panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
            
            // Haptic feedback
            if (navigator.vibrate) navigator.vibrate(50);
            
            secretTapCount = 0;
        }
    }
});

document.querySelector('form[action="/submit"]').addEventListener('submit', function(e) {
    const totalQuestions = <%= quizQuestions.length %>;
    const selectedRadios = document.querySelectorAll('input[type="radio"]:checked');
    
    if (selectedRadios.length < totalQuestions) return;

    const counts = {};
    selectedRadios.forEach(radio => {
        counts[radio.value] = (counts[radio.value] || 0) + 1;
    });

    const uniqueAnswers = Object.keys(counts).length;
    const maxFrequency = Math.max(...Object.values(counts));
    const maxPercentage = (maxFrequency / totalQuestions) * 100;

    // TRIGGER: If they used only 1 or 2 types of answers, 
    // OR if one answer type is used more than 90% of the time (e.g. 38/42 questions)
    if (uniqueAnswers <= 2 || maxPercentage >= 90) {
        e.preventDefault();
        
        alert(
            "Oh no!\n\n" +
            "Your answers show very little variety. This usually happens when a person " +
            "is 'straight-lining' (picking the same or similar answers for everything).\n\n" +
            "To get an accurate Career Match, please review your answers and ensure they " +
            "honestly reflect your unique interests."
        );
    }
});

</script>

</body>
</html>