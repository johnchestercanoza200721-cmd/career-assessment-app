<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCAE Results</title>
    
    <style>
:root {
    /* 1. Inter (Your favorite)
       2. -apple-system / BlinkMacSystemFont (Apple's ultra-clean San Francisco)
       3. Segoe UI (Windows default)
       4. Roboto (Android - placed last as requested)
       5. sans-serif (The emergency backup) */
    --main-font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

body {
    font-family: var(--main-font);
    -webkit-font-smoothing: antialiased; /* Makes fonts look smoother on Mac and iPhone */
    -moz-osx-font-smoothing: grayscale;
}

        /* --- SECTION 1: GLOBAL RESET (Matches Index) --- */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden;
            position: relative;
        }

        /* 1. THEME VARIABLES */
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-main: #2c3e50;
            --text-muted: #5f6368;
            --nav-bg-rgb: 255, 255, 255;
            --nav-text: #2c3e50;
            --border-color: #dadce0;
            --accent-blue: #1a73e8;
            --shadow: rgba(0,0,0,0.1);
            --bar-positive: #1a73e8;
            --bar-negative: #e67e22;
            --bar-bg: #e8eaed;
        }

        body.dark-mode {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e8eaed;
            --text-muted: #9aa0a6;
            --nav-bg-rgb: 30, 30, 30;
            --nav-text: #e8eaed;
            --border-color: #3c4043;
            --bar-bg: #3c4043;
        }

        /* Jariz Mode (Warm) */
        body.warm-mode::after {
            content: ""; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(255, 145, 0, 0.12); pointer-events: none; z-index: 9999;
            mix-blend-mode: multiply;
        }

        body { 
            font-family: var(--main-font); 
            background-color: var(--bg-color); 
            color: var(--text-main);
            padding-top: 80px;
            transition: background-color 0.3s;
        }

     /* --- NAVBAR (RESULTS PAGE SPATIAL ALIGNMENT) --- */
.navbar {
    /* 1. Subtle Glassmorphism */
    background-color: rgba(var(--nav-bg-rgb), 0.05); 
    backdrop-filter: blur(15px) saturate(120%);
    -webkit-backdrop-filter: blur(15px) saturate(120%);
    
    height: 70px; 
    width: 100%;
    display: flex; 
    justify-content: center; 
    align-items: center;
    position: fixed; 
    top: 0; 
    z-index: 2000;
    
    /* 2. Very thin, elegant border */
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.nav-container { 
    width: 95%; 
    max-width: 1200px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}

/* 3. Logo with Electric Gradient matching the Index/Badge */
.nav-logo { 
    font-size: 1.4rem; 
    font-weight: 800; 
    text-decoration: none; 
    color: var(--nav-text); 
    letter-spacing: -0.5px;
}

.nav-logo span { 
    background: linear-gradient(135deg, #1a73e8, #00d4ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 900;
}

/* Added a micro-hover for the logo on the results page */
.nav-logo:hover {
    opacity: 0.85;
    transition: opacity 0.2s ease;
}
        /* Results Layout (Mobile Optimized) */
        .container { 
            max-width: 800px; 
            width: 95%; 
            margin: 0 auto; 
            padding: 10px 0; 
        }
        
        .result-card {
            background: var(--card-bg);
            padding: 40px 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow);
            text-align: center;
            animation: fadeIn 0.8s ease;
            width: 100%;
            box-sizing: border-box;
        }

        .holland-badge {
    display: inline-block;
    /* 1. Added a subtle gradient for depth */
    background: linear-gradient(135deg, #1a73e8 0%, #00d4ff 100%);
    color: white;
    padding: 12px 75px; /* Slightly more vertical breathing room */
    border-radius: 100px; /* Perfect pill shape */
    font-size: 2.2rem;
    font-weight: 800; /* Extra bold for that premium look */
    letter-spacing: 5px;
    margin: 20px 0;
    
    /* 2. Tactile Shadow: Outer glow + Inner highlight */
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 
        0 8px 20px rgba(26, 115, 232, 0.3),
        inset 0 1px 1px rgba(255, 255, 255, 0.3);
    
    /* 3. Smooth transition for the hover flare */
    transition: transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 0.2s ease;
    cursor: default;
}

/* 4. The "Flare" - subtle lift on hover */
.holland-badge:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 
        0 12px 25px rgba(26, 115, 232, 0.4),
        inset 0 1px 1px rgba(255, 255, 255, 0.4);
}
        /* --- RIASEC DESCRIPTION CARDS --- */
        .profile-breakdown {
            margin: 25px 0;
            text-align: left;
        }
       .desc-pill {
    /* 1. Glassmorphism Core */
    background: rgba(255, 255, 255, 0.05); /* Very transparent white */
    backdrop-filter: blur(10px) saturate(120%); /* The "Glass" effect */
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    
    padding: 18px 20px;
    border-radius: 20px;
    margin-bottom: 14px;
    
    /* 2. Subtle Lens Border (Light catches the edge) */
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: inset 0 0 0 0.5px rgba(255, 255, 255, 0.1);
    
    /* 3. Smooth, subtle transition */
    transition: 
        transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), 
        background 0.4s ease, 
        box-shadow 0.4s ease;
    
    position: relative;
    overflow: hidden;
}

/* 4. Subtle Hover State */
.desc-pill:hover {
    /* Scale is now very minimal */
    transform: scale(1.015); 
    
    /* Becomes slightly more luminous/lively rather than changing color */
    background: rgba(255, 255, 255, 0.08); 
    
    /* A very soft, wide shadow to lift it off the glass plane */
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.1),
        inset 0 0 0 0.5px rgba(255, 255, 255, 0.2);
}

/* 5. Clean Typography adjustment for Glass */
.desc-pill h4 {
    margin: 0;
    font-size: 0.85rem;
    color: var(--accent-blue); /* Keeps your branding */
    text-transform: uppercase;
    font-weight: 700;
    letter-spacing: 0.8px;
    opacity: 0.9;
}
        .desc-pill h4 { margin: 0; font-size: 0.9rem; color: var(--accent-blue); text-transform: uppercase; }
        .desc-pill p { margin: 5px 0 0; font-size: 0.85rem; color: var(--text-main); line-height: 1.4; }

      /* --- SCORE DASHBOARD (FIXED LOGIC + TACTILE HOVER) --- */
.score-dashboard {
    margin: 30px 0;
    padding: 24px 16px;
    background: rgba(255, 255, 255, 0.03); /* Subtle glass background */
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    border-radius: 20px;
    border: 1px solid var(--border-color);
    text-align: left;
    
    /* Subtle entrance for the whole dashboard */
    transition: 
        transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), 
        background 0.4s ease, 
        box-shadow 0.4s ease;
}

/* Updated Hover: Minimal scale + slightly more luminous background */
.score-dashboard:hover {
    transform: scale(1.01);
    background: rgba(255, 255, 255, 0.06);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
}

.score-row { 
    display: flex; 
    align-items: center; 
    margin-bottom: 15px; 
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Micro-interaction: row shifts slightly when targeted */
.score-row:hover { 
    transform: translateX(6px); 
}

.trait-name { 
    width: 100px; 
    font-weight: bold; 
    font-size: 0.75rem; 
    margin-right: 12px; 
    text-align: right; 
    text-transform: uppercase; 
    color: var(--text-muted);
}

.bar-wrapper { 
    flex-grow: 1; 
    height: 18px; 
    background: rgba(0, 0, 0, 0.2); 
    border-radius: 20px; 
    position: relative; 
    display: flex; 
    overflow: hidden;
    box-shadow: inset 0 1px 4px rgba(0,0,0,0.3);
}

/* Center Divider Line */
.bar-wrapper::after {
    content: ""; 
    position: absolute; 
    left: 50%; 
    top: 0;
    width: 1px; 
    height: 100%; 
    background: rgba(255, 255, 255, 0.15); 
    z-index: 5;
}

.side-container { width: 50%; height: 100%; display: flex; position: relative; }

.negative-side { justify-content: flex-end; }
.positive-side { justify-content: flex-start; }

.bar-fill { 
    height: 100%; 
    transition: width 1.2s cubic-bezier(0.23, 1, 0.32, 1); 
    display: flex; 
    align-items: center; 
    padding: 0 10px; 
    font-size: 0.7rem; 
    color: white; 
    font-weight: bold; 
    z-index: 4;
    white-space: nowrap;
}

.positive-bar { 
    background: linear-gradient(90deg, var(--bar-positive), #00d4ff); 
    border-radius: 0 20px 20px 0; 
    box-shadow: 0 0 12px rgba(26, 115, 232, 0.25);
}

.negative-bar { 
    background: linear-gradient(90deg, #ffb347, var(--bar-negative)); 
    border-radius: 20px 0 0 20px; 
    box-shadow: 0 0 12px rgba(230, 126, 34, 0.2);
    flex-direction: row-reverse; 
}

.zero-label { 
    position: absolute; 
    left: 50%; 
    transform: translateX(-50%); 
    font-size: 0.6rem; 
    line-height: 18px; 
    color: var(--text-muted); 
    font-weight: 900; 
    z-index: 6; 
    opacity: 0.5;
}
      /* --- RECOMMENDATIONS (GLASS & TACTILE UPDATE) --- */
.recommendation-group {
    text-align: left;
    padding: 24px;
    margin-top: 20px;
    border-radius: 20px; /* Matching the score dashboard radius */
    
    /* 1. Glassmorphism: From solid to frosted */
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    
    /* 2. Full subtle border instead of just left-side */
    border: 1px solid var(--border-color);
    width: 100%;
    box-sizing: border-box;
    
    /* 3. Hover transition matching previous cards */
    transition: 
        transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
        background 0.4s ease, 
        box-shadow 0.4s ease;
}

.recommendation-group:hover {
    transform: scale(1.015);
    background: rgba(255, 255, 255, 0.06);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
}

.group-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: flex-start; 
    margin-bottom: 12px; 
    gap: 10px; 
}

.course-title { 
    margin: 0; 
    color: var(--accent-blue); 
    font-size: 1.15rem; 
    line-height: 1.3; 
    font-weight: 700; /* Bolder for contrast against dark bg */
}

/* 4. Refined Glass Dropdowns */
.provider-dropdown {
    margin-top: 15px;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    background: rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: border-color 0.3s ease;
}

.provider-dropdown[open] {
    border-color: rgba(26, 115, 232, 0.4);
}

.provider-dropdown summary { 
    padding: 14px; 
    cursor: pointer; 
    font-weight: 600; 
    font-size: 0.85rem; 
    background: rgba(255, 255, 255, 0.02); 
    color: var(--text-main);
    list-style: none; /* Removes default arrow in some browsers */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Custom arrow indicator that rotates */
.provider-dropdown summary::after {
    content: 'â†’';
    transition: transform 0.3s ease;
    opacity: 0.5;
}

.provider-dropdown[open] summary::after {
    transform: rotate(90deg);
}

.provider-list { 
    padding: 0 14px; 
    /* Changed from 250px to none to prevent scrolling */
    max-height: none; 
    overflow-y: visible; 
    border-top: 1px solid var(--border-color); 
    /* Subtle entrance animation */
    animation: slideDown 0.3s ease-out;
}

.provider-item { 
    padding: 12px 0; 
    border-bottom: 1px solid var(--border-color); 
    font-size: 0.85rem; 
    color: var(--text-muted);
}

.provider-item:last-child { border-bottom: none; }

/* 5. Tactile Button with Gradient */
.btn {
    display: block;
    margin: 40px auto 0;
    padding: 16px 35px;
    background: linear-gradient(135deg, #1a73e8 0%, #00d4ff 100%);
    color: white;
    text-decoration: none;
    border-radius: 100px; /* Pill shape button */
    font-weight: 700;
    text-align: center;
    box-shadow: 0 8px 20px rgba(26, 115, 232, 0.3);
    transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.btn:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 12px 25px rgba(26, 115, 232, 0.4);
}

        @media (max-width: 600px) {
            body { padding-top: 70px; }
            .result-card { padding: 30px 15px; border-radius: 0; box-shadow: none; }
            .holland-badge { font-size: 1.8rem; padding: 8px 25px; }
            .trait-name { width: 85px; font-size: 0.7rem; }
            .course-title { font-size: 1rem; }
            .score-dashboard { padding: 15px 5px; }
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
    
    </style>
</head>
<body>

<nav class="navbar">
    <div class="nav-container">
        <a href="/" class="nav-logo">Website <span>Name</span></a>
        <div style="font-size: 0.8rem; opacity: 0.7; font-weight: bold;">COMPLETE</div>
    </div>
</nav>

<div class="container">
    <div class="result-card">
        <% if (locals.isDev) { %>
            <div style="color: #e67e22; font-weight: bold; margin-bottom: 15px; border: 1px dashed #e67e22; padding: 5px; display:inline-block; border-radius: 4px; font-size: 0.7rem;">ðŸ›  DEV MODE</div>
        <% } %>
        
        <h1 style="margin:0; font-size: 1.5rem;">Your Holland Code:</h1>
        <div class="holland-badge"><%= hollandCode %></div>

        <div class="profile-breakdown">
            <h3 style="font-size: 0.9rem; text-align: center; color: var(--text-muted); margin-bottom: 15px;">PROFILE BREAKDOWN</h3>
            <% 
                const riasecInfo = {
                    'R': { name: 'Realistic', desc: 'You prefer physical activities that require skill, strength, and coordination. You likely enjoy working with your hands, tools, machinery, or animals. You value practical solutions over abstract theories and prefer a work environment that produces tangible, visible resultsâ€”often outdoors or in technical settings. You tend to be down-to-earth, reliable, and persistent in solving mechanical or physical challenges.' },
                    'I': { name: 'Investigative', desc: 'You are naturally curious and enjoy observing, learning, and evaluating data. You prefer tasks that involve complex problem-solving, research, and independent thinking. You value intellectual challenges and often prefer working in scientific, medical, or academic environments where you can uncover how things work. You tend to be introspective, analytical, and precise, preferring to understand a problem thoroughly before taking action.' },
                    'A': { name: 'Artistic', desc: 'You value self-expression, original ideas, and aesthetics. You prefer unstructured environments that allow for creativity and innovation. Whether it is through language, art, music, or design, you enjoy tasks that allow you to communicate ideas in unique ways and often shy away from highly repetitive or rule-bound work. You tend to be imaginative, sensitive, and independent, viewing the world through a lens of possibilities and emotions.' },
                    'S': { name: 'Social', desc: 'You are dedicated to the well-being of others and enjoy teaching, counseling, or providing service. You have strong communication skills and value cooperation over competition. You thrive in environments where you can lead people toward growth, help them solve personal problems, or contribute to the betterment of society. You tend to be empathetic, friendly, and persuasive, finding your greatest fulfillment in human connection and service.' },
                    'E': { name: 'Enterprising', desc: 'You are energetic, ambitious, and enjoy leading or influencing others. You are comfortable taking risks and making decisions to achieve organizational or financial goals. You value status, power, and competition, and you thrive in fast-paced environments like business, politics, or management where leadership is key. You tend to be self-confident, talkative, and assertive, with a natural ability to motivate others toward a common vision.' },
                    'C': { name: 'Conventional', desc: 'You enjoy working with data, numbers, and structured systems. You value order, accuracy, and efficiency above all else. You are detail-oriented and excel at following through on instructions, managing records, and organizing information. You prefer stable, predictable environments where expectations and rules are clearly defined. You tend to be methodical, efficient, and thorough, ensuring that complex systems run smoothly and without error.' }
                };

                // Split the hollandCode string (e.g., "RIC") into individual letters and loop
                hollandCode.split('').forEach(letter => {
                    const info = riasecInfo[letter];
                    if (info) {
            %>
                <div class="desc-pill">
                    <h4><%= info.name %></h4>
                    <p><%= info.desc %></p>
                </div>
            <% 
                    }
                }); 
            %>
        </div>

        <div class="score-dashboard">
            <h3 style="margin-top: 0; font-size: 0.9rem; text-align: center; margin-bottom: 20px; color: var(--text-muted);">INTEREST INTENSITY PROFILE</h3>
            
            <% 
            const traitNames = {
                R: "Realistic", I: "Investigative", A: "Artistic", 
                S: "Social", E: "Enterprising", C: "Conventional"
            };
            
            Object.entries(scores).forEach(([key, score]) => { 
                let percentage = Math.min(Math.abs((score / 24) * 100), 100);
            %>
                <div class="score-row">
                    <div class="trait-name"><%= traitNames[key] %></div>
                    <div class="bar-wrapper">
                        <div class="side-container negative-side">
                            <% if (score < 0) { %>
                                <div class="bar-fill negative-bar" style="width: <%= percentage %>%;"><%= score %></div>
                            <% } %>
                        </div>
                        <div class="side-container positive-side">
                            <% if (score > 0) { %>
                                <div class="bar-fill positive-bar" style="width: <%= percentage %>%;">+<%= score %></div>
                            <% } %>
                        </div>
                        <% if (score === 0) { %>
                            <span class="zero-label">0</span>
                        <% } %>
                    </div>
                </div>
            <% }) %>
        </div>

        <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 20px;">
            We found <strong><%= topMatches.length %></strong> unique career paths.
        </p>

        <% topMatches.forEach(group => { %>
            <div class="recommendation-group">
                <div class="group-header">
                    <div style="flex: 1;">
                        <h3 class="course-title"><%= group.courseName %></h3>
                        <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 4px;">
                            Holland Match: <strong><%= group.riasec %></strong>
                        </div>
                    </div>
                    <div style="background: var(--accent-blue); color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: bold; height: fit-content; white-space: nowrap;">
                        Score: <%= group.score %>
                    </div>
                </div>

                <details class="provider-dropdown">
                    <summary>View Schools & Majors</summary>
                    <div class="provider-list">
                        <% group.providers.forEach(prov => { %>
                            <div class="provider-item">
                                <strong><%= prov.university %></strong>
                                <% if (prov.major && prov.major.trim() !== "") { %>
                                    <br><span style="color: var(--accent-blue);">Major in <%= prov.major %></span>
                                <% } %>
                                <% if (prov.campus && prov.campus.trim() !== "") { %>
                                    <br><small style="opacity: 0.7;">Campus: <%= prov.campus %></small>
                                <% } %>
                            </div>
                        <% }) %>
                    </div>
                </details>
            </div>
        <% }) %>

        <a href="/" class="btn">Retake Assessment</a>
    </div>
</div>

<script>
    if (localStorage.getItem('theme') === 'dark') document.body.classList.add('dark-mode');
    if (localStorage.getItem('warm') === 'true') document.body.classList.add('warm-mode');
</script>
</body>
</html>